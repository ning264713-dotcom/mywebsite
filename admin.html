<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>ç³»çµ±ç®¡ç†æˆæ¬Š</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        :root { --admin-bg: #0f172a; --panel-bg: #1e293b; --accent: #38bdf8; --text-main: #334155; }
        body { font-family: 'PingFang TC', sans-serif; background: var(--admin-bg); margin: 0; color: #f1f5f9; }
        
        /* é©—è­‰ç‰† */
        #auth-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--admin-bg); display: flex; justify-content: center; align-items: center; z-index: 10000; }
        .auth-card { background: var(--panel-bg); padding: 40px; border-radius: 20px; box-shadow: 0 25px 50px rgba(0,0,0,0.5); width: 350px; text-align: center; }
        .auth-input { width: 100%; padding: 15px; margin: 20px 0; border-radius: 10px; border: 2px solid #334155; background: #0f172a; color: #fff; font-size: 18px; text-align: center; box-sizing: border-box; }
        
        /* ä¸»ä»‹é¢ */
        #admin-panel { display: none; }
        .sidebar { width: 240px; background: #1e293b; height: 100vh; position: fixed; border-right: 1px solid rgba(255,255,255,0.05); }
        .nav-btn { padding: 15px 30px; cursor: pointer; transition: 0.3s; display: block; color: #94a3b8; text-decoration: none; }
        .nav-btn:hover, .nav-btn.active { background: rgba(56, 189, 248, 0.1); color: var(--accent); }
        
        .main-content { margin-left: 240px; padding: 40px; color: var(--text-main); background: #f8fafc; min-height: 100vh; }
        .form-card { background: #fff; padding: 30px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); margin-bottom: 30px; display: none; }
        .active-sec { display: block !important; }
        
        h2 { margin-top: 0; color: #1e293b; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; }
        label { display: block; margin-top: 15px; font-weight: bold; font-size: 14px; }
        input, textarea, select { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #e2e8f0; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        .btn-action { background: var(--accent); color: #0f172a; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px; width: 100%; }
    </style>
</head>
<body>

    <div id="auth-overlay">
        <div class="auth-card">
            <i class="fa-solid fa-lock" style="font-size: 40px; color: var(--accent);"></i>
            <h2>ç®¡ç†æˆæ¬Š</h2>
            <input type="password" id="pwInput" class="auth-input" placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
            <button class="btn-action" onclick="verify()">ç™»å…¥ç³»çµ±</button>
            <p id="msg" style="color: #f43f5e; margin-top: 10px; font-size: 14px;"></p>
        </div>
    </div>

    <div id="admin-panel">
        <nav class="sidebar">
            <div style="padding: 30px; font-weight: bold; color: var(--accent); font-size: 20px;">æ§åˆ¶å°</div>
            <div class="nav-btn active" id="btn-config" onclick="showSec('config')"><i class="fa-solid fa-sliders"></i> ç¶²ç«™è¨­å®š</div>
            <div class="nav-btn" id="btn-post" onclick="showSec('post')"><i class="fa-solid fa-plus"></i> æ–°å¢æ–‡ç« </div>
            <div style="position: absolute; bottom: 30px; width: 100%;">
                <a href="index.html" class="nav-btn"><i class="fa-solid fa-house"></i> å›åˆ°å‰å°</a>
            </div>
        </nav>

        <main class="main-content">
            <div id="sec-config" class="form-card active-sec">
                <h2>ğŸŒ ç¶²ç«™åŸºç¤é…ç½®</h2>
                <label>ç¶²ç«™åç¨±</label><input type="text" id="cfgName">
                <label>Logo ç¶²å€</label><input type="text" id="cfgLogo">
                <label>é—œæ–¼æˆ‘å€‘æè¿°</label><textarea id="cfgFootDesc" rows="4"></textarea>
                <button class="btn-action" onclick="saveConfig()">å„²å­˜æ‰€æœ‰è¨­å®š</button>
            </div>

            <div id="sec-post" class="form-card">
                <h2>âœï¸ ç™¼å¸ƒæ–°æ–‡ç« </h2>
                <label>æ–‡ç« æ¨™é¡Œ</label><input type="text" id="postT" placeholder="è«‹è¼¸å…¥æ¨™é¡Œ">
                <label>åˆ†é¡æ¨™ç±¤</label>
                <select id="postTag">
                    <option>3C æ–°è</option><option>ç§‘æŠ€å¿«å ±</option><option>ç”Ÿæ´»è³‡è¨Š</option>
                </select>
                <label>ç¸®åœ–ç¶²å€ (URL)</label><input type="text" id="postI" placeholder="https://...">
                <label>è©³ç´°å…§å®¹</label><textarea id="postC" rows="10" placeholder="åœ¨æ­¤è¼¸å…¥æ–‡ç« å…§å®¹..."></textarea>
                <button class="btn-action" style="background: #10b981; color: white;" onclick="addPost()">ç™¼å¸ƒæ–‡ç« </button>
            </div>
        </main>
    </div>

<script>
    const KEY = "Kame84218848"; // ä½ çš„å¯†ç¢¼
    const DB = { NAME:'sn', LOGO:'sl', F_DESC:'fd', POSTS:'ps' };

    function verify() {
        if(document.getElementById('pwInput').value === KEY) {
            document.getElementById('auth-overlay').style.display = 'none';
            document.getElementById('admin-panel').style.display = 'block';
            loadCurrentData();
        } else {
            document.getElementById('msg').innerText = "å¯†ç¢¼éŒ¯èª¤ï¼";
        }
    }

    function showSec(sec) {
        document.querySelectorAll('.form-card').forEach(c => c.classList.remove('active-sec'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('sec-' + sec).classList.add('active-sec');
        document.getElementById('btn-' + sec).classList.add('active');
    }

    function loadCurrentData() {
        document.getElementById('cfgName').value = localStorage.getItem(DB.NAME) || '';
        document.getElementById('cfgLogo').value = localStorage.getItem(DB.LOGO) || '';
        document.getElementById('cfgFootDesc').value = localStorage.getItem(DB.F_DESC) || '';
    }

    function saveConfig() {
        localStorage.setItem(DB.NAME, document.getElementById('cfgName').value);
        localStorage.setItem(DB.LOGO, document.getElementById('cfgLogo').value);
        localStorage.setItem(DB.F_DESC, document.getElementById('cfgFootDesc').value);
        alert('âœ… ç¶²ç«™é…ç½®å·²å„²å­˜ï¼');
    }

    // æ ¸å¿ƒåŠŸèƒ½ï¼šç™¼å¸ƒæ–‡ç« 
    function addPost() {
        const t = document.getElementById('postT').value;
        const tag = document.getElementById('postTag').value;
        const c = document.getElementById('postC').value;
        const img = document.getElementById('postI').value || 'https://picsum.photos/600/400';

        if(!t || !c) {
            alert('âŒ æ¨™é¡Œèˆ‡å…§å®¹ç‚ºå¿…å¡«ï¼');
            return;
        }

        // è®€å–èˆŠæ–‡ç« 
        let posts = JSON.parse(localStorage.getItem(DB.POSTS) || '[]');
        
        // åŠ å…¥æ–°æ–‡ç« åˆ°æœ€å‰é¢
        posts.unshift({ t, tag, c, img, date: new Date().getTime() });
        
        // å¯«å› LocalStorage
        localStorage.setItem(DB.POSTS, JSON.stringify(posts));
        
        alert('ğŸ‰ æ–‡ç« ç™¼å¸ƒæˆåŠŸï¼');
        
        // æ¸…ç©ºè¼¸å…¥æ¡†
        document.getElementById('postT').value = '';
        document.getElementById('postC').value = '';
        document.getElementById('postI').value = '';
        
        // è‡ªå‹•åˆ‡æ›åˆ°è¨­å®šé é¢ï¼ˆæˆ–æ˜¯ä½ å¯ä»¥ä¿æŒåœ¨åŸä½ï¼‰
        showSec('config');
    }
</script>
</body>
</html>